.. _workflow:

Workflow
============

.. _sceneStructure:

Scene Structure
----------------

	.. image:: /images/road/sceneStructure.png
	
.. _mainScene:
	
#. Main scene.
#. City debugger : contains all :ref:`debuggers <subsceneGenerator>` of the city.

	.. _hub:

#. Hub : contains :ref:`Entity Subscene Generator <subsceneGenerator>` (how to create :ref:`read more <cityCreation>`).
#. City settings initializer : contains :ref:`general settings <generalSettingsConfig>` of the `DOTS` city.
#. Main scene configs (read more about :ref:`config editing <configEdit>` workflow).
#. Pools : contains all the entity presets.
#. Spawnpoint : spawnpoint of the player (assigned in the `PlayerSpawner`).

	.. _subscene:

#. Subscene (`EntitySubScene`) : subscene in which all of the entities get converted (generated by :ref:`Entity Subscene Generator <subsceneGenerator>`).
#. Subscene configs (read more about :ref:`config editing <configEdit>` workflow).
#. EntityRoadRoot : object root generated by :ref:`Entity Subscene Generator <subsceneGenerator>`.
#. Road : road parent (read more about :ref:`road editing <roadEdit>` workflow).
	
.. _roadEdit:

Road Editing
----------------

Any change of road can take a while if it is done in a :ref:`subscene <subscene>`, so make changes to the road in the main scene for performance reasons:

Steps
~~~~~~~~~~~~

#. Open the :ref:`Hub <hub>` on the scene.
#. Select the :ref:`Entity Subscene Generator <subsceneGenerator>`.
#. Click `Move Back` button to move road from subscene to main scene.
#. Make any change in the road.
#. :ref:`Bake <bakingInfo>` the road.
#. Click `Generate` button in the :ref:`Entity Subscene Generator <subsceneGenerator>`.

.. _configEdit:

Config Editing
----------------

There are 2 variants to edit configs:

Main Scene Editing
~~~~~~~~~~~~

	.. image:: /images/road/installation/MainSceneExample.png

Steps
""""""""""""""

#. Select :ref:`Hub <hub>` on the scene.
#. After editing any config in the main scene :ref:`Hub <hub>` press `Copy To Subscene` button.
	
	.. image:: /images/road/installation/Hub.png
	
Directional Editing
~~~~~~~~~~~~

	.. image:: /images/road/installation/EntitySubSceneExample.png
	
Steps
""""""""""""""

#. Open the `EntitySubScene` :ref:`subscene <subscene>`.
#. Edit any config.
#. Save & close :ref:`subscene <subscene>`.

.. _subsceneGenerator:
	
Entity Subscene Generator
----------------

	.. image:: /images/road/installation/Hub.png
		
Where To Find
~~~~~~~~~~~~

#. Create :ref:`city base <cityCreation>` **[if missing, optional step]**.
#. Select :ref:`Hub <hub>` on the scene.

How To Use
~~~~~~~~~~~~

You read more :ref:`here <roadEntitySubscene>`.
